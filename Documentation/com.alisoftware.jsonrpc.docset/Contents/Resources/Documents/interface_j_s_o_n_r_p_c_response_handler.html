<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>JSONRPC Framework: JSONRPCResponseHandler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>JSONRPCResponseHandler Class Reference</h1><!-- doxytag: class="JSONRPCResponseHandler" -->
<p>an intermediate object returned by the <a class="el" href="interface_j_s_o_n_r_p_c_service.html" title="The class representing a JSON-RPC WebService (identified by an URL to call methods...">JSONRPCService</a> when you call a method, to help you define how to handle the response.  
<a href="#_details">More...</a></p>

<p><code>#import &lt;<a class="el" href="_j_s_o_n_r_p_c_response_handler_8h_source.html">JSONRPCResponseHandler.h</a>&gt;</code></p>

<p><a href="class_j_s_o_n_r_p_c_response_handler-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_j_s_o_n_r_p_c_response_handler.html#abf6eefbd16c994ba190f612ceaf22b36">setDelegate:callback:</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">set both the delegate and the callback to call upon receiving the WebService's response  <a href="#abf6eefbd16c994ba190f612ceaf22b36"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_j_s_o_n_r_p_c_response_handler.html#a305c8ac7ca06265ed673ef97d0b12b1a">setDelegate:callback:resultClass:</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">set both the delegate, the callback and the resultClass at once.  <a href="#a305c8ac7ca06265ed673ef97d0b12b1a"></a><br/></td></tr>
<tr><td colspan="2"><h2>Properties</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abb42a715b3d2f2cd4c16005d3f6808bc"></a><!-- doxytag: member="JSONRPCResponseHandler::methodCall" ref="abb42a715b3d2f2cd4c16005d3f6808bc" args="" -->
<a class="el" href="interface_j_s_o_n_r_p_c_method_call.html">JSONRPCMethodCall</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_j_s_o_n_r_p_c_response_handler.html#abb42a715b3d2f2cd4c16005d3f6808bc">methodCall</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">the method call attached with this response handler <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">NSObject&lt; <a class="el" href="protocol_j_s_o_n_r_p_c_delegate-p.html">JSONRPCDelegate</a> &gt; *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_j_s_o_n_r_p_c_response_handler.html#a8b58e7b4c93462c5192f734c576334a8">delegate</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The delegate object on which the callback will be called.  <a href="#a8b58e7b4c93462c5192f734c576334a8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">SEL&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_j_s_o_n_r_p_c_response_handler.html#a502884ce24fb2b9fa9e87fbe47d1b5ae">callback</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The callback (@selector) to call when receiving the response from the WebService.  <a href="#a502884ce24fb2b9fa9e87fbe47d1b5ae"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_j_s_o_n_r_p_c_response_handler.html#a57092c0312dd5f7cd5b0e90f6940d65a">resultClass</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>an intermediate object returned by the <a class="el" href="interface_j_s_o_n_r_p_c_service.html" title="The class representing a JSON-RPC WebService (identified by an URL to call methods...">JSONRPCService</a> when you call a method, to help you define how to handle the response. </p>
<p><a class="el" href="interface_j_s_o_n_r_p_c_response_handler.html" title="an intermediate object returned by the JSONRPCService when you call a method, to...">JSONRPCResponseHandler</a> is an intermediate object used to define a delegate and a callback (= a target and an action) to call when the WebService's response is received, and the Objective-C class to use if you want the received JSON object to be converted to a custom Obj-C object automatically before calling the callback.</p>
<p>You typically don't create a <a class="el" href="interface_j_s_o_n_r_p_c_response_handler.html" title="an intermediate object returned by the JSONRPCService when you call a method, to...">JSONRPCResponseHandler</a> yourself. Instead, you retreive such objects when calling <a class="el" href="interface_j_s_o_n_r_p_c_service.html#a73a9b9f0669b7aa99c9dbb148a009e10" title="Designed method to call a JSON-RPC method on the WebService.">callMethod: (JSONRPCService)</a> or similar methods; this returned object help you define how to handle the response returned by the WebService after the method call. </p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="abf6eefbd16c994ba190f612ceaf22b36"></a><!-- doxytag: member="JSONRPCResponseHandler::setDelegate:callback:" ref="abf6eefbd16c994ba190f612ceaf22b36" args="(id&lt; JSONRPCDelegate &gt; aDelegate,[callback] SEL callback)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setDelegate: </td>
          <td></td>
          <td class="paramtype">(id&lt;<a class="el" href="protocol_j_s_o_n_r_p_c_delegate-p.html">JSONRPCDelegate</a>&gt;)&nbsp;</td>
          <td class="paramname"> <em>aDelegate</em></td>
        </tr>
        <tr>
          <td class="paramkey">callback:</td>
          <td></td>
          <td class="paramtype">(SEL)&nbsp;</td>
          <td class="paramname"> <em>callback</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>set both the delegate and the callback to call upon receiving the WebService's response </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>aDelegate</em>&nbsp;</td><td>the delegate object that will receive the message (on which the callback will be called) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>callback</em>&nbsp;</td><td>the @selector to call (the message to send onto the delegate) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a305c8ac7ca06265ed673ef97d0b12b1a"></a><!-- doxytag: member="JSONRPCResponseHandler::setDelegate:callback:resultClass:" ref="a305c8ac7ca06265ed673ef97d0b12b1a" args="(id&lt; JSONRPCDelegate &gt; aDelegate,[callback] SEL callback,[resultClass] Class cls)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setDelegate: </td>
          <td></td>
          <td class="paramtype">(id&lt;<a class="el" href="protocol_j_s_o_n_r_p_c_delegate-p.html">JSONRPCDelegate</a>&gt;)&nbsp;</td>
          <td class="paramname"> <em>aDelegate</em></td>
        </tr>
        <tr>
          <td class="paramkey">callback:</td>
          <td></td>
          <td class="paramtype">(SEL)&nbsp;</td>
          <td class="paramname"> <em>callback</em></td>
        </tr>
        <tr>
          <td class="paramkey">resultClass:</td>
          <td></td>
          <td class="paramtype">(Class)&nbsp;</td>
          <td class="paramname"> <em>cls</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>set both the delegate, the callback and the resultClass at once. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>aDelegate</em>&nbsp;</td><td>the delegate object that will receive the message (on which the callback will be called) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>callback</em>&nbsp;</td><td>the @selector to call (the message to send onto the delegate) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cls</em>&nbsp;</td><td>the Class to convert the received JSON object to before calling the callback. </td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>this method is typically useful when you nest it directly with the call of the <a class="el" href="interface_j_s_o_n_r_p_c_method_call.html" title="This class represent a method call on a JSON-RPC WebService.">JSONRPCMethodCall</a> (JSONRPCService::callMethod or similar), as doing it that way you avoid the need to declare a temporary <a class="el" href="interface_j_s_o_n_r_p_c_response_handler.html" title="an intermediate object returned by the JSONRPCService when you call a method, to...">JSONRPCResponseHandler</a> <div class="fragment"><pre class="fragment"> [[service callMethod:xxx] setDelegate:d <a class="code" href="interface_j_s_o_n_r_p_c_response_handler.html#a502884ce24fb2b9fa9e87fbe47d1b5ae" title="The callback (@selector) to call when receiving the response from the WebService...">callback</a>:<span class="keyword">@selector</span>(methodCall:didReturn:error:) <a class="code" href="interface_j_s_o_n_r_p_c_response_handler.html#a57092c0312dd5f7cd5b0e90f6940d65a">resultClass</a>:[MyCustomObject <span class="keyword">class</span>]] 
</pre></div> </dd></dl>

</div>
</div>
<hr/><h2>Property Documentation</h2>
<a class="anchor" id="a502884ce24fb2b9fa9e87fbe47d1b5ae"></a><!-- doxytag: member="JSONRPCResponseHandler::callback" ref="a502884ce24fb2b9fa9e87fbe47d1b5ae" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (SEL) callback<code> [read, write, assign]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The callback (@selector) to call when receiving the response from the WebService. </p>
<p>This @selector must take three parameters:</p>
<ul>
<li>a <a class="el" href="interface_j_s_o_n_r_p_c_method_call.html" title="This class represent a method call on a JSON-RPC WebService.">JSONRPCMethodCall</a> representing the method call that triggered the response</li>
<li>a parameter of type 'id' or of a specific class corresponding to the expected response returned by the WebService. If you define a resultClass on the <a class="el" href="interface_j_s_o_n_r_p_c_response_handler.html" title="an intermediate object returned by the JSONRPCService when you call a method, to...">JSONRPCResponseHandler</a>, the type of this second argument of the @selector is typically the same class.</li>
<li>a parameter of type NSError that will hold the error returned by the WebService if any.</li>
</ul>
<dl class="note"><dt><b>Note:</b></dt><dd>This method is called on the <a class="el" href="interface_j_s_o_n_r_p_c_response_handler.html#a8b58e7b4c93462c5192f734c576334a8" title="The delegate object on which the callback will be called.">JSONRPCResponseHandler::delegate</a> object if set, or on the <a class="el" href="interface_j_s_o_n_r_p_c_service.html#ad5361d24af5c0e36868d423320f18ae1" title="Object to handle errors if not handled by JSONRPCResponseHandler::delegate .">JSONRPCService::delegate</a> if not. </dd>
<dd>
By default, this selector is not set (the default) and the <a class="el" href="protocol_j_s_o_n_r_p_c_delegate-p.html">JSONRPCDelegate</a> methodCall:didReturn:error: (<a class="el" href="protocol_j_s_o_n_r_p_c_delegate-p.html" title="JSONRPC Error Handler protocol, used on the JSONRPCMethodCall&#39;s or JSONRPCService&#39;s...">JSONRPCDelegate</a> @protocol) method is called instead. </dd></dl>

</div>
</div>
<a class="anchor" id="a8b58e7b4c93462c5192f734c576334a8"></a><!-- doxytag: member="JSONRPCResponseHandler::delegate" ref="a8b58e7b4c93462c5192f734c576334a8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSObject&lt;<a class="el" href="protocol_j_s_o_n_r_p_c_delegate-p.html">JSONRPCDelegate</a>&gt;*) delegate<code> [read, write, retain]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The delegate object on which the callback will be called. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>If this delegate is nil (the default), the <a class="el" href="interface_j_s_o_n_r_p_c_service.html#ad5361d24af5c0e36868d423320f18ae1" title="Object to handle errors if not handled by JSONRPCResponseHandler::delegate .">JSONRPCService::delegate</a> is used instead. </dd></dl>

</div>
</div>
<a class="anchor" id="a57092c0312dd5f7cd5b0e90f6940d65a"></a><!-- doxytag: member="JSONRPCResponseHandler::resultClass" ref="a57092c0312dd5f7cd5b0e90f6940d65a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (Class) resultClass<code> [read, write, assign]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The class to convert the received object to, if wanted. If this @property is not nil, the received JSON object will be converted to an instance of the given class before calling the callback @selector. The provided class must conform to the JSONInitializer informal protocol, i.e. it must respond to -initWithJson: . </p>
<dl class="note"><dt><b>Note:</b></dt><dd>if the WebService's JSON response is an NSArray (the root JSON object is an array), then instead every object in the array will be converted to the provided class. (instead of trying to create the instance of this class by passing the NSArray to initWithJson: directly) </dd></dl>

</div>
</div>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Mon Jun 21 13:41:55 2010 for JSONRPC Framework by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
